try{let d=$response.body.replace(/"room_id":(\d{2,})/g,'"room_id":"$1"'),t=JSON.parse(d);t.data&&(t.data=function(d){if(d&&d.length>0){let t=d.length;for(;t--;){let i=d[t].aweme;i.images&&e(i.images),i.video&&o(i)}}return d}(t.data)),t.aweme_list&&(t.aweme_list=function(d){if(d&&d.length>0){let t=d.length;for(;t--;){let i=d[t];1==i.is_ads?d.splice(t,1):i.images?e(i.images):i.video?o(i):d.splice(t,1)}}return d}(t.aweme_list)),t.aweme_detail&&(t.aweme_detail=function(d){d.images&&e(d.images);d.video&&o(d);return d}(t.aweme_detail)),$done({body:JSON.stringify(t)})}catch(e){$done({})}function e(e){let o=e.length;for(;o--;)e[o].download_url_list=e[o].url_list;return e}function o(e){e.status.reviewed=1,e.video_control.allow_download=!0,e.video_control.prevent_download_type=0,delete e.video.misc_download_addrs;const o=e.video.play_addr;return e.video.download_addr=o,e.video.download_suffix_logo_addr=o,e}
